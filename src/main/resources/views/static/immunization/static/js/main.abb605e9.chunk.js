(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{672:function(e,t,a){},673:function(e,t,a){},866:function(e,t,a){},867:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),o=a(22),c=a.n(o),l=a(51),r=a(50),d=(a(110),a(672),a(673),a(674),a(925)),s=a(926),u=a(952),j=a(942),v=a(927),b=a(133),h=a.n(b),m=(a(287),a(224)),p=a.n(m),O=a(234),x=a.n(O),f=a(225),g=a.n(f),y=a(232),N=a.n(y),C=a(148),I=a.n(C),T=a(147),D=a.n(T),S=a(226),w=a.n(S),A=a(227),k=a.n(A),B=a(229),E=a.n(B),R=a(230),z=a.n(R),_=a(231),P=a.n(_),M=a(235),F=a.n(M),V=a(228),q=a.n(V),Y=a(233),L=a.n(Y),U=a(236),H=a.n(U),W=(a(56),a(345),a(41)),Z=a.n(W),Q=a(164),K=a.n(Q),G=a(948);const J="GET_PATIENT_DATA",X="GET_VACCINATED_PATIENT_DATA";var $=a(29),ee=a.n($);const te="/api/v1/",ae=new URLSearchParams(window.location.search).get("jwt"),ie=async e=>{let{page:t,pageSize:a,search:i}=e;return(await ee.a.get("".concat(te,"patient?pageSize=").concat(a,"&pageNo=").concat(t,"&searchParam=").concat(i),{headers:{Authorization:"Bearer ".concat(ae)}})).data};var ne=a(53),oe=a(485),ce=a(919),le=a(380);const re=e=>{const t=new Date,a=new Date(e);let i=t.getFullYear()-a.getFullYear();const n=t.getMonth()-a.getMonth();return i<=0&&n<0&&t.getDate()<a.getDate()&&i--,0===i?n+" month(s)":i+" year(s)"};const de={defaultOptions:{queries:{retry:2,refetchOnMount:"always",refetchOnWindowFocus:!0,refetchOnReconnect:!0,cacheTime:6e4,refetchInterval:36e5,refetchIntervalInBackground:!0,suspense:!1,staleTime:1/0},mutations:{retry:2}}},se=new(a(944).a)(de);var ue=a(2);Z.a.locale("en"),K()();const je={Add:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(p.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(w.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(k.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(E.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(z.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(P.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(L.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(F.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(H.a,{...e,ref:t})))};var ve=e=>{const[t,a]=Object(i.useState)(!0),[n,o]=Object(i.useState)({page:0,pageSize:10,search:""}),c=e=>{e.target.checked?a(!1):a(!0)},{data:l,isLoading:r,refetch:d}=Object(G.a)([J,n],(()=>ie(n)),{onSuccess:()=>(async()=>{const e=n.page+1,t=[J,{...n,page:e}];await se.prefetchQuery(t,(()=>ie({...n,page:e})))})()});return Object(ue.jsx)("div",{children:Object(ue.jsx)(h.a,{icons:je,title:"Find Patient",columns:[{title:"Patient Name",field:"firstName",hidden:t,render:e=>(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.surname)||(null===e||void 0===e?void 0:e.otherName)||""},{title:"Hospital Number",field:"participantId",filtering:!1,render:e=>{var t,a;const i=(null===e||void 0===e||null===(t=e.identifier)||void 0===t||null===(a=t.identifier)||void 0===a?void 0:a.filter((e=>"HospitalNumber"===(null===e||void 0===e?void 0:e.type)))).pop();return null!==(null===i||void 0===i?void 0:i.value)?i.value:""}},{title:"Sex",field:"gender",filtering:!1,render:e=>null!==(null===e||void 0===e?void 0:e.gender)?e.gender.display:""},{title:"Age",field:"dateOfBirth",filtering:!1,render:e=>re(null===e||void 0===e?void 0:e.dateOfBirth)},{title:"Actions",field:"actions",filtering:!1,render:e=>Object(ue.jsx)("div",{children:Object(ue.jsx)(ne.b,{to:{pathname:"/patient-vaccination-history",route:"patient-vaccination-history",state:{patientObj:e}},children:Object(ue.jsxs)(ce.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ue.jsx)(oe.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ue.jsx)(le.a,{})}),Object(ue.jsx)(oe.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ue.jsx)("span",{style:{fontSize:"10px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}],components:{Toolbar:e=>Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ue.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:c,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ue.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ue.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ue.jsx)(b.MTableToolbar,{...e})]})},data:(null===l||void 0===l?void 0:l.records)||[],totalCount:null===l||void 0===l?void 0:l.totalRecords,isLoading:r,page:null===l||void 0===l?void 0:l.currentPage,options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,paging:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:(null===n||void 0===n?void 0:n.pageSize)||10,debounceInterval:400},onChangePage:e=>{o((t=>({...t,page:e}))),d(n)}})})};const be=async e=>{let{page:t,pageSize:a,search:i}=e;const n=await ee.a.get("".concat(te,"immunization/history/all?pageSize=").concat(a,"&pageNo=").concat(t,"&searchParam=").concat(i),{headers:{Authorization:"Bearer ".concat(ae)}});return null===n||void 0===n?void 0:n.data};var he=a(641);Z.a.locale("en"),K()();const me={Add:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(p.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(w.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(k.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(E.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(z.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(P.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(L.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(F.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(H.a,{...e,ref:t})))};var pe=e=>{const[t,a]=Object(i.useState)(!0),[n,o]=Object(i.useState)({page:0,pageSize:10,search:""}),c=e=>{e.target.checked?a(!1):a(!0)},{data:l,isLoading:r,refetch:d}=Object(G.a)([X,n],(()=>be(n)),{onSuccess:()=>(async()=>{const e=n.page+1,t=[X,{...n,page:e}];await se.prefetchQuery(t,(()=>be({...n,page:e})))})()});return Object(ue.jsx)("div",{children:Object(ue.jsx)(h.a,{icons:me,title:"Find Patient",components:{Toolbar:e=>Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ue.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==t,onChange:c,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ue.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ue.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ue.jsx)(b.MTableToolbar,{...e})]})},columns:[{title:"Patient Name",field:"firstName",hidden:t,render:e=>{var t,a,i,n;const o=null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t||null===(a=t.patientDto)||void 0===a?void 0:a.lastname;return(null===e||void 0===e||null===(i=e.uniqueImmunizationData)||void 0===i||null===(n=i.patientDto)||void 0===n?void 0:n.firstName)+" "+o}},{title:"Hospital Number",field:"participantId",filtering:!1,render:e=>{var t,a,i,n;return null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t||null===(a=t.patientDto)||void 0===a||null===(i=a.identifier)||void 0===i||null===(n=i.identifier[0])||void 0===n?void 0:n.value}},{title:"Sex",field:"gender",filtering:!1,render:e=>{var t,a;return null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t||null===(a=t.patientDto)||void 0===a?void 0:a.sex}},{title:"Age",field:"dob",filtering:!1,render:e=>{var t,a;return re(null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t||null===(a=t.patientDto)||void 0===a?void 0:a.dateOfBirth)}},{title:"Vaccination Status",field:"vaccinationStatus",filtering:!1,render:e=>Object(ue.jsx)(he.a,{color:"blue",size:"mini",children:"Vaccinated"})},{title:"Actions",field:"actions",filtering:!1,render:e=>{var t;return Object(ue.jsx)("div",{children:Object(ue.jsx)(ne.b,{to:{pathname:"/patient-vaccination-history",state:{patientObj:null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.patientDto}},children:Object(ue.jsxs)(ce.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ue.jsx)(oe.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ue.jsx)(le.a,{})}),Object(ue.jsx)(oe.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ue.jsx)("span",{style:{fontSize:"10px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}}],data:function(e){const t=new Map;if(e){e.forEach((e=>{t.set(e.patientId,e)}));return Array.from(t.values())}return[]}(null===l||void 0===l?void 0:l.content)||[],totalCount:null===l||void 0===l?void 0:l.totalElements,isLoading:r,page:null===l||void 0===l?void 0:l.pageNumber,options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,paging:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:(null===n||void 0===n?void 0:n.pageSize)||10,debounceInterval:400},onChangePage:e=>{o((t=>({...t,page:e}))),d(n)}})})},Oe=a(627);const xe={borderRadius:"2px",fontSize:14};var fe=()=>{const[e,t]=Object(i.useState)("home");return Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:[Object(ue.jsx)("ol",{className:"breadcrumb",children:Object(ue.jsx)("li",{className:"breadcrumb-item active",children:Object(ue.jsx)("h4",{children:"Immunization"})})}),Object(ue.jsx)("div",{children:Object(ue.jsx)(ne.b,{to:"register-patient",children:Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(ue.jsx)(Oe.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})})})]}),Object(ue.jsx)(d.a,{style:{marginTop:"20px"},children:Object(ue.jsx)(s.a,{xl:12,children:Object(ue.jsx)(u.a,{style:xe,children:Object(ue.jsx)(u.a.Body,{children:Object(ue.jsx)("div",{className:"custom-tab-1",children:Object(ue.jsxs)(j.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:[Object(ue.jsx)(v.a,{eventKey:"home",title:"Find Patients",children:Object(ue.jsx)(ve,{})}),Object(ue.jsx)(v.a,{eventKey:"vaccinated",title:"All Vaccinated Patients",children:Object(ue.jsx)(pe,{})})]})})})})})})]})},ge=a(7),ye=a(946),Ne=a(954),Ce=a(923),Ie=a(924),Te=a(251),De=a(922),Se=a(928),we=a(929);Z.a.locale("en"),K()();var Ae=Object(ge.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){const{classes:t}=e,a=e.patientObj;return Object(i.useEffect)((()=>{}),[e.patientObj]),Object(ue.jsx)("div",{className:t.root,children:Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(Ie.a,{children:Object(ue.jsx)(Se.a,{children:Object(ue.jsx)(we.a,{md:12,children:Object(ue.jsxs)(Se.a,{className:"mt-1",children:[Object(ue.jsxs)(we.a,{md:12,className:t.root2,children:[Object(ue.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:a.firstName+" "+(n=a,n&&n.lastName?n.lastName:n&&n.surname?n.surname:n&&n.otherName?n.otherName:"")}),Object(ue.jsx)(ne.b,{to:"/",children:Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(ue.jsx)(Te.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(ue.jsx)(we.a,{md:4,className:t.root2,children:Object(ue.jsxs)("span",{children:[" ","Patient ID :"," ",Object(ue.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{if(e&&e.participantId)return e.participantId;{var t,a,i;const n=(null===e||void 0===e||null===(t=e.identifier)||void 0===t||null===(a=t.identifier)||void 0===a?void 0:a.filter((e=>"HospitalNumber"===(null===e||void 0===e?void 0:e.type))))||[],o=(null===n||void 0===n||null===(i=n.pop)||void 0===i?void 0:i.call(n))||null;return null!==(null===o||void 0===o?void 0:o.value)?o.value:""}})(a)})]})}),Object(ue.jsx)(we.a,{md:4,className:t.root2,children:Object(ue.jsxs)("span",{children:["Date Of Birth :"," ",Object(ue.jsx)("b",{style:{color:"#0B72AA"},children:(null===a||void 0===a?void 0:a.dob)||(null===a||void 0===a?void 0:a.dateOfBirth)})]})}),Object(ue.jsx)(we.a,{md:4,className:t.root2,children:Object(ue.jsxs)("span",{children:[" ","Age :"," ",Object(ue.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{var t=new Date,a=e.split("-"),i=new Date(+a[2],a[1]-1,+a[0]),n=new Date(i),o=t.getFullYear()-n.getFullYear(),c=t.getMonth()-n.getMonth();return(c<0||0===c&&t.getDate()<n.getDate())&&o--,0===o?c+" month(s)":o+" year(s)"})(Z()(a.dob||(null===a||void 0===a?void 0:a.dateOfBirth)).format("DD-MM-YYYY"))})]})}),Object(ue.jsx)(we.a,{md:4,children:Object(ue.jsxs)("span",{children:[" ","Gender :"," ",Object(ue.jsx)("b",{style:{color:"#0B72AA"},children:null!==a.gender?a.gender.display:""})]})}),Object(ue.jsx)(we.a,{md:4,className:t.root2,children:Object(ue.jsxs)("span",{children:[" ","Phone Number :"," ",Object(ue.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{const t=e.contactPoint.find((e=>"phone"===e.type));return t?t.value:""})(a.contactPoint)})]})}),Object(ue.jsx)(we.a,{md:4,className:t.root2,children:Object(ue.jsxs)("span",{children:[" ","Address :"," ",Object(ue.jsxs)("b",{style:{color:"#0B72AA"},children:[(e=>{const t=e.address.find((e=>e.city)),a=t&&null!==t.line[0]?t.line[0]:"",i=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+i:""})(a.address)," "]})]})})]})})})}),Object(ue.jsx)(De.a,{})]})});var n})),ke=a(941);var Be=function(e){const t=e.patientObj?e.patientObj:{},[a,n]=Object(i.useState)("patient-vaccination-history"),[o]=Object(i.useState)(t),[c]=Object(i.useState)((e=>{const t=new Date,a=new Date(e);let i=t.getFullYear()-a.getFullYear();const n=t.getMonth()-a.getMonth();return i<=0&&n<0&&t.getDate()<a.getDate()&&i--,0===i?n:i})((null===o||void 0===o?void 0:o.dob)||(null===o||void 0===o?void 0:o.dateOfBirth))||0);return Object(ue.jsx)("div",{style:{marginTop:"20px"},children:Object(ue.jsxs)(ke.a,{size:"large",color:"black",inverted:!0,children:[Object(ue.jsx)(ke.a.Item,{onClick:()=>{e.setActiveContent({...e.activeContent,route:"patient-vaccination-history"})},children:" Home"}),Object(ue.jsxs)(ke.a.Item,{onClick:()=>(n("immunization"),void e.setActiveContent({...e.activeContent,route:"routine-immunization-patient",actionType:"create"})),children:[" ","Routine Immunization"]}),Object(ue.jsx)(ke.a.Item,{onClick:()=>(n("tetanus"),void e.setActiveContent({...e.activeContent,route:"tetanus-patient",actionType:"create"})),children:" Tetanus "}),c>=5&&Object(ue.jsx)(ke.a.Item,{onClick:t=>{n("covid"),e.setActiveContent({...e.activeContent,route:"covid-patient",actionType:"create"})},children:" COVID-19 "}),Object(ue.jsx)(ke.a.Item,{onClick:()=>(n("history"),void e.setActiveContent({...e.activeContent,route:"vaccination-history"})),children:"History"})]})})};const Ee=async e=>{let{page:t,pageSize:a,search:i,id:n}=e;const o=await ee.a.get("".concat(te,"immunization/history/").concat(n,"?pageSize=").concat(a,"&pageNo=").concat(t,"&searchParam=").concat(i),{headers:{Authorization:"Bearer ".concat(ae)}});return null===o||void 0===o?void 0:o.data};var Re=a(939),ze=a(489),_e=a(953);const Pe={headers:{Authorization:"Bearer ".concat(ae)}},Me=async e=>(await ee.a.put("".concat(te,"immunization/").concat(e,"/archive"),null,Pe)).data,Fe=e=>{const{mutate:t,isLoading:a,isError:i}=Object(_e.a)({mutationFn:Me,onSuccess:()=>{r.b.success("Immunization deleted successful."),se.invalidateQueries(),se.refetchQueries(),e.setActiveContent({...e.activeContent,route:"patient-vaccination-history"})},onError:()=>{r.b.error("Immunization deletion failed")}});return{mutate:t,isLoading:a,isError:i}};Z.a.locale("en"),K()();const Ve={Add:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(p.a,{...e,ref:t}))),Check:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(g.a,{...e,ref:t}))),Clear:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Delete:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(w.a,{...e,ref:t}))),DetailPanel:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),Edit:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(k.a,{...e,ref:t}))),Export:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(q.a,{...e,ref:t}))),Filter:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(E.a,{...e,ref:t}))),FirstPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(z.a,{...e,ref:t}))),LastPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(P.a,{...e,ref:t}))),NextPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(I.a,{...e,ref:t}))),PreviousPage:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(N.a,{...e,ref:t}))),ResetSearch:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(D.a,{...e,ref:t}))),Search:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(L.a,{...e,ref:t}))),SortArrow:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(x.a,{...e,ref:t}))),ThirdStateCheck:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(F.a,{...e,ref:t}))),ViewColumn:Object(i.forwardRef)(((e,t)=>Object(ue.jsx)(H.a,{...e,ref:t})))};var qe=e=>{var t;const[a,n]=Object(i.useState)(!0),[o,c]=Object(i.useState)({page:0,pageSize:20,search:"",id:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id}),l=e=>{e.target.checked?n(!1):n(!0)},{data:r,isLoading:d,refetch:s}=Object(G.a)([X,o],(()=>Ee(o)),{onSuccess:()=>(async()=>{const e=o.page+1,t=[X,{...o,page:e}];await se.prefetchQuery(t,(()=>Ee({...o,page:e})))})()}),u=(t,a)=>{"ROUTINE_IMMUNIZATION"===t.immunizationType?e.setActiveContent({...e.activeContent,route:"routine-immunization-patient",id:t.id,actionType:a}):"TETANUS_IMMUNIZATION"===t.immunizationType?e.setActiveContent({...e.activeContent,route:"tetanus-patient",id:t.id,actionType:a}):e.setActiveContent({...e.activeContent,route:"covid-patient",id:t.id,actionType:a})},{mutate:j}=Fe(e);return Object(ue.jsx)("div",{children:Object(ue.jsx)(h.a,{icons:Ve,title:"Patient Vaccination History",components:{Toolbar:e=>Object(ue.jsxs)("div",{children:[Object(ue.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(ue.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==a,onChange:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ue.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ue.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(ue.jsx)(b.MTableToolbar,{...e})]})},columns:[{title:"Immunization Type",field:"immunizationType",filtering:!0},{title:"Vaccine Type",field:"vaccineType",filtering:!1,render:e=>{var t;return null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccineType}},{title:"Vaccination Date",field:"vaccinationDate",filtering:!1,render:e=>{var t;return null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccinationDate}},{title:"Actions",field:"actions",filtering:!1,render:e=>Object(ue.jsx)("div",{children:Object(ue.jsx)(ke.a.Menu,{position:"right",children:Object(ue.jsx)(ke.a.Item,{children:Object(ue.jsx)(oe.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ue.jsx)(Re.a,{item:!0,text:"Action",children:Object(ue.jsxs)(Re.a.Menu,{style:{marginTop:"10px"},children:[Object(ue.jsxs)(Re.a.Item,{onClick:()=>u(e,"view"),children:[" ",Object(ue.jsx)(ze.a,{name:"eye"}),"View"," "]}),Object(ue.jsxs)(Re.a.Item,{onClick:()=>u(e,"update"),children:[Object(ue.jsx)(ze.a,{name:"edit"}),"Edit"]}),Object(ue.jsxs)(Re.a.Item,{onClick:()=>(e=>{j(e.id)})(e),children:[" ",Object(ue.jsx)(ze.a,{name:"trash"})," Delete"]})]})})})})})})}],data:(null===r||void 0===r?void 0:r.content)||[],totalCount:null===r||void 0===r?void 0:r.totalElements,isLoading:d,page:null===r||void 0===r?void 0:r.pageNumber,options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,paging:!0,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:(null===o||void 0===o?void 0:o.pageSize)||10,debounceInterval:400},onChangePage:e=>{c((t=>({...t,page:e}))),s(o)}})})},Ye=a(930),Le=a(931),Ue=a(932),He=a(54),We=a(28),Ze=a(569),Qe=a(920),Ke=a(921);a(159);const Ge=e=>{const t=W(e),a=W(),i=a.diff(t,"weeks"),n=a.diff(t,"months"),o=a.diff(t,"years");return i<6?"IMMUNIZATION_VACCINE_AT_BIRTH":i>=6&&i<10?"IMMUNIZATION_VACCINE_AT_6 WEEKS":i>=10&&i<14?"IMMUNIZATION_VACCINE_AT_10 WEEKS":i>=14&&n<6?"IMMUNIZATION_VACCINE_AT_14 WEEKS":n>=6&&n<9?"IMMUNIZATION_VACCINE_AT_6 MONTHS":n>=9&&n<15?"IMMUNIZATION_VACCINE_AT_9 MONTHS":n>=15&&o<9?"IMMUNIZATION_VACCINE_AT_15 MONTHS":o>=9?"IMMUNIZATION_VACCINE_AT_9 YEARS":"ROUTINE_IMMUNIZATION_VACCINE_TYPE"},Je=async e=>{const t=await ee.a.get("".concat(te,"application-codesets/v2/").concat(e),{headers:{Authorization:"Bearer ".concat(ae)}});return null===t||void 0===t?void 0:t.data};var Xe=a(255),$e=a(35);const et=(e,t)=>{const a={vaccineType:"",vaccineDetail:"",missedVaccine:"",missedVaccineType:"",vaccinationDate:""},i=$e.b({vaccineType:$e.c().required("This field is required"),vaccinationDate:$e.c().required("This field is required"),vaccineDetail:$e.c().required("This field is required"),missedVaccine:$e.c().required("This field is required"),missedVaccineType:$e.c().when("missedVaccine",{is:e=>"yes"===e,then:$e.c().required("This field is required"),otherwise:$e.c()})});return{formik:Object(Xe.a)({initialValues:t?{...a,...t}:a,onSubmit:e,validationSchema:i})}};var tt=a(99),at=a.n(tt),it=a(100),nt=a.n(it),ot=a(174);const ct=async e=>(await ee.a.post("".concat(te,"immunization"),e,{headers:{Authorization:"Bearer ".concat(ae)}})).data,lt=(e,t)=>{const{mutate:a,isLoading:i,isError:n}=Object(_e.a)({mutationFn:ct,onSuccess:()=>{r.b.success("Routine Immunization saved successful."),e.resetForm(),se.invalidateQueries(),se.refetchQueries(),t.setActiveContent({...t.activeContent,route:"patient-vaccination-history"})}});return{mutate:a,isLoading:i,isError:n}};He.b.add(We.a,We.b,We.c,We.d);const rt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var dt=e=>{var t,a,n,o,c,l,r,d,s,u,j,v,b;const h=rt(),m=(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.dateOfBirth)||(null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.dob),[p]=Object(i.useState)(Ge(m)),{data:O,isLoading:x}=Object(G.a)([p],(()=>Je(p))),{data:f,isLoading:g}=Object(G.a)(["ROUTINE_IMMUNIZATION_VACCINE_TYPE"],(()=>Je("ROUTINE_IMMUNIZATION_VACCINE_TYPE"))),y=async()=>{var t,a,i;Object.keys(null===N||void 0===N?void 0:N.initialValues).forEach((e=>{null===N||void 0===N||N.setFieldTouched(e,!0)}));const n=await N.validateForm(),o=0===Object.keys(n).length,c={immunizationType:"ROUTINE_IMMUNIZATION",patientId:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id,patientUuid:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uuid,vaccinationDate:null===N||void 0===N||null===(i=N.values)||void 0===i?void 0:i.vaccinationDate,uniqueImmunizationData:{...N.values,patientDto:e.patientObj}};o&&C(c)},{formik:N}=et(y),{mutate:C}=lt(N,e),I=Object(ot.useHistory)();return Object(ue.jsx)(Qe.a,{className:h.root,style:{marginTop:20},children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff"},children:Object(ue.jsxs)("h5",{className:"card-title",style:{color:"#fff"},children:[" ","Routine Immunization"]})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Date of vaccination"}),Object(ue.jsx)(Ue.a,{className:"form-control",name:"vaccinationDate",id:"vaccinationDate",type:"date",onChange:N.handleChange,max:Z()(new Date).format("YYYY-MM-DD"),onBlur:N.handleBlur,value:null===N||void 0===N||null===(n=N.values)||void 0===n?void 0:n.vaccinationDate}),(null===N||void 0===N||null===(o=N.touched)||void 0===o?void 0:o.vaccinationDate)&&(null===N||void 0===N?void 0:N.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:h.error,children:null===N||void 0===N?void 0:N.errors.vaccinationDate})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsxs)(Le.a,{children:["Type of vaccine ",x&&"Loading vaccine ..."]}),Object(ue.jsxs)("select",{className:"form-control",name:"vaccineType",id:"vaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:N.handleChange,onBlur:N.handleBlur,value:null===N||void 0===N||null===(c=N.values)||void 0===c?void 0:c.vaccineType,children:[Object(ue.jsx)("option",{value:"",children:"Select vaccine type"}),null===O||void 0===O?void 0:O.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===N||void 0===N||null===(l=N.touched)||void 0===l?void 0:l.vaccineType)&&(null===N||void 0===N?void 0:N.errors.vaccineType)&&Object(ue.jsx)("span",{className:h.error,children:null===N||void 0===N?void 0:N.errors.vaccineType})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Detail of vaccine"}),Object(ue.jsx)("textarea",{className:"form-control",name:"vaccineDetail",id:"vaccineDetail",style:{height:150,border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:N.handleChange,onBlur:N.handleBlur,value:null===N||void 0===N||null===(r=N.values)||void 0===r?void 0:r.vaccineDetail}),(null===N||void 0===N||null===(d=N.touched)||void 0===d?void 0:d.vaccineDetail)&&(null===N||void 0===N?void 0:N.errors.vaccineDetail)&&Object(ue.jsx)("span",{className:h.error,children:null===N||void 0===N?void 0:N.errors.vaccineDetail})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Any missed vaccination ?"}),Object(ue.jsxs)("select",{className:"form-control",name:"missedVaccine",id:"missedVaccine",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{N.setFieldValue("missedVaccineType",""),N.handleChange(e)},onBlur:N.handleBlur,value:null===N||void 0===N||null===(s=N.values)||void 0===s?void 0:s.missedVaccine,children:[Object(ue.jsx)("option",{value:"",children:"Select option"}),Object(ue.jsx)("option",{value:"yes",children:"Yes"}),Object(ue.jsx)("option",{value:"no",children:"No"})]}),(null===N||void 0===N||null===(u=N.touched)||void 0===u?void 0:u.missedVaccine)&&(null===N||void 0===N?void 0:N.errors.missedVaccine)&&Object(ue.jsx)("span",{className:h.error,children:null===N||void 0===N?void 0:N.errors.missedVaccine})]}),"yes"===(null===N||void 0===N||null===(j=N.values)||void 0===j?void 0:j.missedVaccine)&&Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsxs)(Le.a,{children:["Enter missed vaccine"," ",g&&"Loading vaccine ..."]}),Object(ue.jsxs)("select",{className:"form-control",name:"missedVaccineType",id:"missedVaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:N.handleChange,onBlur:N.handleBlur,value:null===N||void 0===N||null===(v=N.values)||void 0===v?void 0:v.missedVaccineType,disabled:g,children:[Object(ue.jsx)("option",{value:"",children:"Select vaccine type"}),null===f||void 0===f?void 0:f.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===N||void 0===N||null===(b=N.touched)||void 0===b?void 0:b.missedVaccineType)&&(null===N||void 0===N?void 0:N.errors.missedVaccineType)&&Object(ue.jsx)("span",{className:h.error,children:null===N||void 0===N?void 0:N.errors.missedVaccineType})]})]})})]}),Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:h.button,startIcon:Object(ue.jsx)(at.a,{}),style:{backgroundColor:"#014d88",fontWeight:"bolder"},onClick:y,children:x?Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ue.jsx)(oe.a,{variant:"contained",className:h.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>I.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};const st=async e=>{const t=await ee.a.get("".concat(te,"immunization/").concat(e),{headers:{Authorization:"Bearer ".concat(ae)}});return null===t||void 0===t?void 0:t.data},ut={headers:{Authorization:"Bearer ".concat(ae)}},jt=async e=>(await ee.a.put("".concat(te,"immunization/").concat(e.id),{...e.data},ut)).data,vt=(e,t)=>{const{mutate:a,isLoading:i,isError:n}=Object(_e.a)({mutationFn:jt,onSuccess:()=>{r.b.success("Routine Immunization updated successful."),e.resetForm(),se.invalidateQueries(),se.refetchQueries(),t.setActiveContent({...t.activeContent,route:"patient-vaccination-history"})}});return{mutate:a,isLoading:i,isError:n}};He.b.add(We.a,We.b,We.c,We.d);const bt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ht=e=>{var t,a,n,o,c,l,r,d,s,u,j,v,b,h,m;const p=null===e||void 0===e?void 0:e.disableInputs,O=bt(),x=(null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.dateOfBirth)||(null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.dob),[f]=Object(i.useState)(Ge(x)),[g,y]=Object(i.useState)(null),{data:N,isLoading:C}=Object(G.a)([f],(()=>Je(f))),{data:I,isLoading:T}=Object(G.a)(["ROUTINE_IMMUNIZATION_VACCINE_TYPE"],(()=>Je("ROUTINE_IMMUNIZATION_VACCINE_TYPE"))),D=async()=>{var t,a,i;Object.keys(null===S||void 0===S?void 0:S.initialValues).forEach((e=>{null===S||void 0===S||S.setFieldTouched(e,!0)}));const n=await S.validateForm(),o=0===Object.keys(n).length,c={immunizationType:"ROUTINE_IMMUNIZATION",patientId:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id,patientUuid:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uuid,vaccinationDate:null===S||void 0===S||null===(i=S.values)||void 0===i?void 0:i.vaccinationDate,uniqueImmunizationData:{...S.values,patientDto:e.patientObj}};var l;o&&w({data:c,id:null===e||void 0===e||null===(l=e.activeContent)||void 0===l?void 0:l.id})},{formik:S}=et(D),{mutate:w}=vt(S,e),A=Object(ot.useHistory)();return Object(G.a)(["FETCH_IMMUNIZATION_BY_ID",null===e||void 0===e||null===(n=e.activeContent)||void 0===n?void 0:n.id],(()=>{var t;return st(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.id)}),{onSuccess:e=>{var t,a,i,n;const o={immunizationType:null===e||void 0===e?void 0:e.immunizationType,vaccinationDate:null===e||void 0===e?void 0:e.vaccinationDate,vaccineType:null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccineType,vaccineDetail:null===e||void 0===e||null===(a=e.uniqueImmunizationData)||void 0===a?void 0:a.vaccineDetail,missedVaccine:null===e||void 0===e||null===(i=e.uniqueImmunizationData)||void 0===i?void 0:i.missedVaccine,missedVaccineType:null===e||void 0===e||null===(n=e.uniqueImmunizationData)||void 0===n?void 0:n.missedVaccineType};null===g&&(y(o),S.setValues(o))},refetchOnMount:"always"}),Object(ue.jsx)(Qe.a,{className:O.root,style:{marginTop:20},children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff"},children:Object(ue.jsxs)("h5",{className:"card-title",style:{color:"#fff"},children:[" ","Routine Immunization ","(".concat(null===e||void 0===e||null===(o=e.activeContent)||void 0===o?void 0:o.actionType,")")]})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Date of vaccination"}),Object(ue.jsx)(Ue.a,{className:"form-control",name:"vaccinationDate",id:"vaccinationDate",type:"date",onChange:S.handleChange,max:Z()(new Date).format("YYYY-MM-DD"),disabled:p,readOnly:p,onBlur:S.handleBlur,value:null===S||void 0===S||null===(c=S.values)||void 0===c?void 0:c.vaccinationDate}),(null===S||void 0===S||null===(l=S.touched)||void 0===l?void 0:l.vaccinationDate)&&(null===S||void 0===S?void 0:S.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:O.error,children:null===S||void 0===S?void 0:S.errors.vaccinationDate})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsxs)(Le.a,{children:["Type of vaccine ",C&&"Loading vaccine ..."]}),Object(ue.jsxs)("select",{className:"form-control",name:"vaccineType",id:"vaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:p,readOnly:p,onChange:S.handleChange,onBlur:S.handleBlur,value:null===S||void 0===S||null===(r=S.values)||void 0===r?void 0:r.vaccineType,children:[Object(ue.jsx)("option",{value:"",children:"Select vaccine type"}),null===N||void 0===N?void 0:N.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===S||void 0===S||null===(d=S.touched)||void 0===d?void 0:d.vaccineType)&&(null===S||void 0===S?void 0:S.errors.vaccineType)&&Object(ue.jsx)("span",{className:O.error,children:null===S||void 0===S?void 0:S.errors.vaccineType})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Detail of vaccine"}),Object(ue.jsx)("textarea",{className:"form-control",name:"vaccineDetail",id:"vaccineDetail",disabled:p,readOnly:p,style:{height:150,border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:S.handleChange,onBlur:S.handleBlur,value:null===S||void 0===S||null===(s=S.values)||void 0===s?void 0:s.vaccineDetail}),(null===S||void 0===S||null===(u=S.touched)||void 0===u?void 0:u.vaccineDetail)&&(null===S||void 0===S?void 0:S.errors.vaccineDetail)&&Object(ue.jsx)("span",{className:O.error,children:null===S||void 0===S?void 0:S.errors.vaccineDetail})]}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsx)(Le.a,{children:"Any missed vaccination ?"}),Object(ue.jsxs)("select",{className:"form-control",name:"missedVaccine",id:"missedVaccine",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{S.setFieldValue("missedVaccineType",""),S.handleChange(e)},onBlur:S.handleBlur,value:null===S||void 0===S||null===(j=S.values)||void 0===j?void 0:j.missedVaccine,disabled:p,readOnly:p,children:[Object(ue.jsx)("option",{value:"",children:"Select option"}),Object(ue.jsx)("option",{value:"yes",children:"Yes"}),Object(ue.jsx)("option",{value:"no",children:"No"})]}),(null===S||void 0===S||null===(v=S.touched)||void 0===v?void 0:v.missedVaccine)&&(null===S||void 0===S?void 0:S.errors.missedVaccine)&&Object(ue.jsx)("span",{className:O.error,children:null===S||void 0===S?void 0:S.errors.missedVaccine})]}),"yes"===(null===S||void 0===S||null===(b=S.values)||void 0===b?void 0:b.missedVaccine)&&Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-12",children:[Object(ue.jsxs)(Le.a,{children:["Enter missed vaccine"," ",T&&"Loading vaccine ..."]}),Object(ue.jsxs)("select",{className:"form-control",name:"missedVaccineType",id:"missedVaccineType",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:S.handleChange,onBlur:S.handleBlur,value:null===S||void 0===S||null===(h=S.values)||void 0===h?void 0:h.missedVaccineType,disabled:T||p,readOnly:p,children:[Object(ue.jsx)("option",{value:"",children:"Select vaccine type"}),null===I||void 0===I?void 0:I.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===S||void 0===S||null===(m=S.touched)||void 0===m?void 0:m.missedVaccineType)&&(null===S||void 0===S?void 0:S.errors.missedVaccineType)&&Object(ue.jsx)("span",{className:O.error,children:null===S||void 0===S?void 0:S.errors.missedVaccineType})]})]})})]}),!p&&Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:O.button,startIcon:Object(ue.jsx)(at.a,{}),style:{backgroundColor:"#014d88",fontWeight:"bolder"},onClick:D,children:C?Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),!p&&Object(ue.jsx)(oe.a,{variant:"contained",className:O.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>A.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};var mt=e=>{var t;const a=(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.actionType)||"create",i={create:Object(ue.jsx)(dt,{...e}),update:Object(ue.jsx)(ht,{...e,disableInputs:!1}),view:Object(ue.jsx)(ht,{...e,disableInputs:!0})};return Object(ue.jsx)(ue.Fragment,{children:(e=>e?i[e]:i.create)(a)})},pt=a(933),Ot=a(934);const xt=e=>{const t=$e.b({vaccineType:$e.c().required("This field is required"),vaccinationDate:$e.a().when("vaccineType",{is:e=>""!==e,then:$e.a().required("This field is required"),otherwise:$e.a()})});return{formik:Object(Xe.a)({initialValues:{vaccineType:"",vaccinationDate:""},onSubmit:e,validationSchema:t})}};He.b.add(We.a,We.b,We.c,We.d);const ft=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var gt=e=>{var t,a,i,n,o;const c=Object(l.useHistory)(),r=ft(),{data:d,isLoading:s}=Object(G.a)(["TETANUS_VACCINE"],(()=>Je("TETANUS_VACCINE"))),u=async()=>{var t,a,i;Object.keys(null===j||void 0===j?void 0:j.initialValues).forEach((e=>{null===j||void 0===j||j.setFieldTouched(e,!0)}));const n=await j.validateForm(),o=0===Object.keys(n).length,c={immunizationType:"TETANUS_IMMUNIZATION",patientId:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id,patientUuid:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uuid,vaccinationDate:null===j||void 0===j||null===(i=j.values)||void 0===i?void 0:i.vaccinationDate,uniqueImmunizationData:{...j.values,patientDto:e.patientObj}};o&&v(c)},{formik:j}=xt(u),{mutate:v}=lt(j,e);return Object(ue.jsx)(pt.a,{className:r.root,children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsx)("div",{className:"card",children:Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Tetanus"})})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Type of vaccine ",s&&"Loading vaccine ...",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:j.handleChange,onBlur:j.handleBlur,value:null===(t=j.values)||void 0===t?void 0:t.vaccineType,disable:s,children:[Object(ue.jsx)("option",{children:"Select"}),!s&&(null===d||void 0===d?void 0:d.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.display)},null===e||void 0===e?void 0:e.id))))]}),(null===j||void 0===j||null===(a=j.touched)||void 0===a?void 0:a.vaccineType)&&(null===j||void 0===j?void 0:j.errors.vaccineType)&&Object(ue.jsx)("span",{className:r.error,children:null===j||void 0===j?void 0:j.errors.vaccineType})]})}),""!==(null===j||void 0===j||null===(i=j.values)||void 0===i?void 0:i.vaccineType)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Vaccination Date",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"date",name:"vaccinationDate",id:"vaccinationDate",onChange:j.handleChange,onBlur:j.handleBlur,value:null===(n=j.values)||void 0===n?void 0:n.vaccinationDate,max:Z()(new Date).format("YYYY-MM-DD")}),(null===j||void 0===j||null===(o=j.touched)||void 0===o?void 0:o.vaccinationDate)&&(null===j||void 0===j?void 0:j.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:r.error,children:null===j||void 0===j?void 0:j.errors.vaccinationDate})]})})]})}),Object(ue.jsx)("br",{}),Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:r.button,startIcon:Object(ue.jsx)(at.a,{}),onClick:u,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ue.jsx)(oe.a,{variant:"contained",className:r.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>c.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})},yt=a(935);He.b.add(We.a,We.b,We.c,We.d);const Nt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ct=e=>{var t,a,n,o,c,r,d;const[s,u]=Object(i.useState)(null),j=Object(l.useHistory)(),v=null===e||void 0===e?void 0:e.disableInputs,b=Nt(),{data:h,isLoading:m}=Object(G.a)(["TETANUS_VACCINE"],(()=>Je("TETANUS_VACCINE"))),p=async()=>{var t,a,i;Object.keys(null===O||void 0===O?void 0:O.initialValues).forEach((e=>{null===O||void 0===O||O.setFieldTouched(e,!0)}));const n=await O.validateForm(),o=0===Object.keys(n).length,c={immunizationType:"TETANUS_IMMUNIZATION",patientId:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id,patientUuid:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uuid,vaccinationDate:null===O||void 0===O||null===(i=O.values)||void 0===i?void 0:i.vaccinationDate,uniqueImmunizationData:{...O.values,patientDto:e.patientObj}};var l;o&&x({data:c,id:null===e||void 0===e||null===(l=e.activeContent)||void 0===l?void 0:l.id})},{formik:O}=xt(p),{mutate:x,isLoading:f}=vt(O,e);return Object(G.a)(["FETCH_IMMUNIZATION_BY_ID",null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.id],(()=>{var t;return st(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.id)}),{onSuccess:e=>{var t;const a={vaccinationDate:null===e||void 0===e?void 0:e.vaccinationDate,vaccineType:null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccineType};null===s&&(u(a),O.setValues(a))},refetchOnMount:"always"}),Object(ue.jsx)(pt.a,{className:b.root,children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsx)("div",{className:"card",children:Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsxs)("h5",{className:"card-title",style:{color:"#fff"},children:["Tetanus ","(".concat(null===e||void 0===e||null===(a=e.activeContent)||void 0===a?void 0:a.actionType,")")]})})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Type of vaccine ",m&&"Loading vaccine ...",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:O.handleChange,onBlur:O.handleBlur,value:null===(n=O.values)||void 0===n?void 0:n.vaccineType,disabled:v||m,readOnly:v,children:[Object(ue.jsx)("option",{children:"Select"}),!m&&(null===h||void 0===h?void 0:h.map((e=>Object(ue.jsx)("option",{value:e.code,children:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.display)},null===e||void 0===e?void 0:e.id))))]}),(null===O||void 0===O||null===(o=O.touched)||void 0===o?void 0:o.vaccineType)&&(null===O||void 0===O?void 0:O.errors.vaccineType)&&Object(ue.jsx)("span",{className:b.error,children:null===O||void 0===O?void 0:O.errors.vaccineType})]})}),""!==(null===O||void 0===O||null===(c=O.values)||void 0===c?void 0:c.vaccineType)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Vaccination Date",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"date",name:"vaccinationDate",id:"vaccinationDate",onChange:O.handleChange,onBlur:O.handleBlur,value:null===(r=O.values)||void 0===r?void 0:r.vaccinationDate,disabled:v,readOnly:v,max:Z()(new Date).format("YYYY-MM-DD")}),(null===O||void 0===O||null===(d=O.touched)||void 0===d?void 0:d.vaccinationDate)&&(null===O||void 0===O?void 0:O.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:b.error,children:null===O||void 0===O?void 0:O.errors.vaccinationDate})]})})]})}),f?Object(ue.jsx)(yt.a,{}):"",Object(ue.jsx)("br",{}),!v&&Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:b.button,startIcon:Object(ue.jsx)(at.a,{}),onClick:p,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:f?Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),!v&&Object(ue.jsx)(oe.a,{variant:"contained",className:b.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>j.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};var It=e=>{var t;const a=(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.actionType)||"create",i={create:Object(ue.jsx)(gt,{...e}),update:Object(ue.jsx)(Ct,{...e,disableInputs:!1}),view:Object(ue.jsx)(Ct,{...e,disableInputs:!0})};return Object(ue.jsx)(ue.Fragment,{children:(e=>e?i[e]:i.create)(a)})};const Tt=async e=>(await ee.a.get("".concat(te,"application-codesets/v2/").concat(e),{headers:{Authorization:"Bearer ".concat(ae)}})).data,Dt=async e=>(await ee.a.get("".concat(te,"covid/codeset?category=VACCINE"),{headers:{Authorization:"Bearer ".concat(ae)}})).data,St=e=>{const t=$e.b({workInHealthSector:$e.c().required("This field is required"),vaccinationDosage:$e.c().required("This field is required"),knownMedicalCondition:$e.c().required("This field is required"),medicalCondition:$e.c().when("knownMedicalCondition",{is:e=>"yes"===(null===e||void 0===e?void 0:e.toLowerCase()),then:$e.c().required("This field is required"),otherwise:$e.c()}),adverseEffect:$e.c().required("This field is required"),adverseEffectOption:$e.c().when("adverseEffect",{is:e=>"yes"===(null===e||void 0===e?void 0:e.toLowerCase()),then:$e.c().required("This field is required"),otherwise:$e.c()}),vaccineType:$e.c().required("This field is required"),vaccinationDate:$e.a().required("This field is required"),location:$e.c().required("This field is required"),vaccinationFacility:$e.c().when("location",{is:e=>"facility"===(null===e||void 0===e?void 0:e.toLowerCase()),then:$e.c().required("This field is required"),otherwise:$e.c()}),batchNumber:$e.c().required("This field is required")});return{formik:Object(Xe.a)({initialValues:{workInHealthSector:"",knownMedicalCondition:"",medicalCondition:"",adverseEffect:"",adverseEffectOption:"",vaccineType:"",vaccinationDate:"",location:"",vaccinationFacility:"",batchNumber:"",vaccinationDosage:""},onSubmit:e,validationSchema:t})}};He.b.add(We.a,We.b,We.c,We.d);const wt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var At=e=>{var t,a,n,o,c,l,r,d,s,u,j,v,b,h,m,p,O,x,f,g,y,N,C,I,T,D,S;const w=wt(),{data:A}=Object(G.a)(["GET_CODESETS","COVID_ADVERSE_EFFECT"],(()=>Tt("COVID_ADVERSE_EFFECT"))),{data:k}=Object(G.a)(["COVID_VACCINES"],(()=>Dt())),B=async()=>{var t,a,i;Object.keys(null===R||void 0===R?void 0:R.initialValues).forEach((e=>{null===R||void 0===R||R.setFieldTouched(e,!0)}));const n=await R.validateForm(),o=0===Object.keys(n).length,c={immunizationType:"COVID_IMMUNIZATION",patientId:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id,patientUuid:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uuid,vaccinationDate:null===R||void 0===R||null===(i=R.values)||void 0===i?void 0:i.vaccinationDate,uniqueImmunizationData:{...R.values,patientDto:e.patientObj}};o&&z(c)},E=Object(ot.useHistory)(),{formik:R}=St(B),{mutate:z}=lt(R,e),[_]=(null===e||void 0===e||null===(t=e.activeContent)||void 0===t||t.actionType,Object(i.useState)({page:0,pageSize:20,search:"",id:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.id}));return Object(G.a)([X,_],(()=>Ee(_)),{onSuccess:e=>(e=>{var t,a,i;const n=(null===e||void 0===e||null===(t=e.filter((e=>{var t;return"FIRST"===(null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccinationDosage)})))||void 0===t?void 0:t[0])||null,o=(null===e||void 0===e||null===(a=e.filter((e=>{var t;return"SECOND"===(null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccinationDosage)})))||void 0===a?void 0:a[0])||null;(null===e||void 0===e||null===(i=e.filter((e=>{var t;return"BOOSTER"===(null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.vaccinationDosage)})))||void 0===i?void 0:i[0])||o?null===R||void 0===R||R.setFieldValue("vaccinationDosage","BOOSTER"):n?null===R||void 0===R||R.setFieldValue("vaccinationDosage","SECOND"):null===R||void 0===R||R.setFieldValue("vaccinationDosage","FIRST")})(null===e||void 0===e?void 0:e.content)}),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsx)("div",{className:"card",children:Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Vaccine Dosage",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccinationDosage",id:"vaccinationDosage",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(n=R.values)||void 0===n?void 0:n.vaccinationDosage,children:[Object(ue.jsx)("option",{value:"",children:"Select option"}),Object(ue.jsx)("option",{value:"FIRST",children:"FIRST"}),Object(ue.jsx)("option",{value:"SECOND",children:"SECOND"}),Object(ue.jsx)("option",{value:"BOOSTER",children:"BOOSTER"})]}),(null===R||void 0===R||null===(o=R.touched)||void 0===o?void 0:o.vaccinationDosage)&&(null===R||void 0===R?void 0:R.errors.vaccinationDosage)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.vaccinationDosage})]})})})})})})}),Object(ue.jsx)(Qe.a,{className:w.root,children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"COVID-19 Vaccination"})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Do you work in the Health sector ?",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"workInHealthSector",id:"workInHealthSector",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(c=R.values)||void 0===c?void 0:c.workInHealthSector,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===R||void 0===R||null===(l=R.touched)||void 0===l?void 0:l.workInHealthSector)&&(null===R||void 0===R?void 0:R.errors.workInHealthSector)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.workInHealthSector})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Any known medical condition ?"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"knownMedicalCondition",id:"knownMedicalCondition",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(r=R.values)||void 0===r?void 0:r.knownMedicalCondition,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===R||void 0===R||null===(d=R.touched)||void 0===d?void 0:d.knownMedicalCondition)&&(null===R||void 0===R?void 0:R.errors.knownMedicalCondition)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.knownMedicalCondition})]})}),"YES"===(null===R||void 0===R||null===(s=R.values)||void 0===s?void 0:s.knownMedicalCondition)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"medicalCondition",children:["Medical conditions"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{className:"form-control",type:"text",name:"medicalCondition",id:"medicalCondition",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(u=R.values)||void 0===u?void 0:u.medicalCondition,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),(null===R||void 0===R||null===(j=R.touched)||void 0===j?void 0:j.medicalCondition)&&(null===R||void 0===R?void 0:R.errors.medicalCondition)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.medicalCondition})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"adverseEffect",children:["Adverse Effect"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"adverseEffect",id:"adverseEffect",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(v=R.values)||void 0===v?void 0:v.adverseEffect,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===R||void 0===R||null===(b=R.touched)||void 0===b?void 0:b.adverseEffect)&&(null===R||void 0===R?void 0:R.errors.adverseEffect)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.adverseEffect})]})}),"YES"===(null===R||void 0===R||null===(h=R.values)||void 0===h?void 0:h.adverseEffect)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"adverseEffectOption",children:["Reaction Type (Adverse Effect)"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"adverseEffectOption",id:"adverseEffectOption",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(m=R.values)||void 0===m?void 0:m.adverseEffectOption,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),null===A||void 0===A?void 0:A.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===R||void 0===R||null===(p=R.touched)||void 0===p?void 0:p.adverseEffectOption)&&(null===R||void 0===R?void 0:R.errors.adverseEffectOption)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.adverseEffectOption})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccineType",children:["Vaccine ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(O=R.values)||void 0===O?void 0:O.vaccineType,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),null===k||void 0===k?void 0:k.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))]}),(null===R||void 0===R||null===(x=R.touched)||void 0===x?void 0:x.vaccineType)&&(null===R||void 0===R?void 0:R.errors.vaccineType)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.vaccineType})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccinationDate",children:["Date of vaccination",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"date",name:"vaccinationDate",id:"vaccinationDate",max:W(new Date).format("YYYY-MM-DD"),onChange:R.handleChange,onBlur:R.handleBlur,value:null===(f=R.values)||void 0===f?void 0:f.vaccinationDate}),(null===R||void 0===R||null===(g=R.touched)||void 0===g?void 0:g.vaccinationDate)&&(null===R||void 0===R?void 0:R.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.vaccinationDate})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Location ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"location",id:"location",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(y=R.values)||void 0===y?void 0:y.location,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"Facility",children:"Facility"}),Object(ue.jsx)("option",{value:"Community",children:"Community"})]}),(null===R||void 0===R||null===(N=R.touched)||void 0===N?void 0:N.location)&&(null===R||void 0===R?void 0:R.errors.location)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.location})]})}),"Facility"===(null===R||void 0===R||null===(C=R.values)||void 0===C?void 0:C.location)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccinationFacility",children:["Facility Name",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"text",name:"vaccinationFacility",id:"vaccinationFacility",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(I=R.values)||void 0===I?void 0:I.vaccinationFacility}),(null===R||void 0===R||null===(T=R.touched)||void 0===T?void 0:T.vaccinationFacility)&&(null===R||void 0===R?void 0:R.errors.vaccinationFacility)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.vaccinationFacility})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"batchNumber",children:["Batch Number ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"text",name:"batchNumber",id:"batchNumber",onChange:R.handleChange,onBlur:R.handleBlur,value:null===(D=R.values)||void 0===D?void 0:D.batchNumber}),(null===R||void 0===R||null===(S=R.touched)||void 0===S?void 0:S.batchNumber)&&(null===R||void 0===R?void 0:R.errors.batchNumber)&&Object(ue.jsx)("span",{className:w.error,children:null===R||void 0===R?void 0:R.errors.batchNumber})]})})]})})]}),"",Object(ue.jsx)("br",{}),Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:w.button,startIcon:Object(ue.jsx)(at.a,{}),onClick:B,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ue.jsx)(oe.a,{variant:"contained",className:w.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>E.push({pathname:"/"}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})]})};He.b.add(We.a,We.b,We.c,We.d);const kt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Bt=e=>{var t,a,n,o,c,l,r,d,s,u,j,v,b,h,m,p,O,x,f,g,y,N,C,I,T,D,S;const w=kt(),[A,k]=Object(i.useState)(null),B=null===e||void 0===e?void 0:e.disableInputs,[E]=Object(i.useState)({page:0,pageSize:20,search:"",id:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id}),{data:R}=Object(G.a)(["GET_CODESETS","COVID_ADVERSE_EFFECT"],(()=>Tt("COVID_ADVERSE_EFFECT"))),{data:z}=Object(G.a)(["COVID_VACCINES"],(()=>Dt())),_=async()=>{var t,a,i,n;Object.keys(null===M||void 0===M?void 0:M.initialValues).forEach((e=>{null===M||void 0===M||M.setFieldTouched(e,!0)}));const o=await M.validateForm(),c=0===Object.keys(o).length,l={immunizationType:"COVID_IMMUNIZATION",dosage:null===M||void 0===M||null===(t=M.values)||void 0===t?void 0:t.vaccinationDosage,patientId:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.id,patientUuid:null===e||void 0===e||null===(i=e.patientObj)||void 0===i?void 0:i.uuid,vaccinationDate:null===M||void 0===M||null===(n=M.values)||void 0===n?void 0:n.vaccinationDate,uniqueImmunizationData:{...M.values,patientDto:e.patientObj}};var r;c&&F({data:l,id:null===e||void 0===e||null===(r=e.activeContent)||void 0===r?void 0:r.id})},P=Object(ot.useHistory)(),{formik:M}=St(_),{mutate:F,isLoading:V}=vt(M,e);return Object(G.a)(["FETCH_IMMUNIZATION_BY_ID",null===e||void 0===e||null===(a=e.activeContent)||void 0===a?void 0:a.id],(()=>{var t;return st(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.id)}),{onSuccess:e=>{var t,a,i,n,o,c,l,r,d,s,u;const j={workInHealthSector:null===e||void 0===e||null===(t=e.uniqueImmunizationData)||void 0===t?void 0:t.workInHealthSector,knownMedicalCondition:null===e||void 0===e||null===(a=e.uniqueImmunizationData)||void 0===a?void 0:a.knownMedicalCondition,medicalCondition:null===e||void 0===e||null===(i=e.uniqueImmunizationData)||void 0===i?void 0:i.medicalCondition,adverseEffect:null===e||void 0===e||null===(n=e.uniqueImmunizationData)||void 0===n?void 0:n.adverseEffect,adverseEffectOption:null===e||void 0===e||null===(o=e.uniqueImmunizationData)||void 0===o?void 0:o.adverseEffectOption,vaccineType:null===e||void 0===e||null===(c=e.uniqueImmunizationData)||void 0===c?void 0:c.vaccineType,vaccinationDate:null===e||void 0===e||null===(l=e.uniqueImmunizationData)||void 0===l?void 0:l.vaccinationDate,location:null===e||void 0===e||null===(r=e.uniqueImmunizationData)||void 0===r?void 0:r.location,vaccinationFacility:null===e||void 0===e||null===(d=e.uniqueImmunizationData)||void 0===d?void 0:d.vaccinationFacility,batchNumber:null===e||void 0===e||null===(s=e.uniqueImmunizationData)||void 0===s?void 0:s.batchNumber,vaccinationDosage:null===e||void 0===e||null===(u=e.uniqueImmunizationData)||void 0===u?void 0:u.vaccinationDosage};null===A&&(k(j),M.setValues(j))},refetchOnMount:"always"}),Object(G.a)([X,E],(()=>Ee(E))),Object(ue.jsxs)("div",{children:[Object(ue.jsx)("div",{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsx)("div",{className:"card",children:Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Vaccine Dosage",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccinationDosage",id:"vaccinationDosage",disabled:B,onChange:M.handleChange,onBlur:M.handleBlur,value:null===(n=M.values)||void 0===n?void 0:n.vaccinationDosage,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select option"}),Object(ue.jsx)("option",{value:"FIRST",children:"FIRST"}),Object(ue.jsx)("option",{value:"SECOND",children:"SECOND"}),Object(ue.jsx)("option",{value:"BOOSTER",children:"BOOSTER"})]}),(null===M||void 0===M||null===(o=M.touched)||void 0===o?void 0:o.vaccinationDosage)&&(null===M||void 0===M?void 0:M.errors.vaccinationDosage)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.vaccinationDosage})]})})})})})})}),Object(ue.jsx)(Qe.a,{className:w.root,children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"COVID-19 Vaccination"})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Do you work in the Health sector ?",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"workInHealthSector",id:"workInHealthSector",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(c=M.values)||void 0===c?void 0:c.workInHealthSector,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===M||void 0===M||null===(l=M.touched)||void 0===l?void 0:l.workInHealthSector)&&(null===M||void 0===M?void 0:M.errors.workInHealthSector)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.workInHealthSector})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Any known medical condition ?"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"knownMedicalCondition",id:"knownMedicalCondition",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(r=M.values)||void 0===r?void 0:r.knownMedicalCondition,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===M||void 0===M||null===(d=M.touched)||void 0===d?void 0:d.knownMedicalCondition)&&(null===M||void 0===M?void 0:M.errors.knownMedicalCondition)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.knownMedicalCondition})]})}),"YES"===(null===M||void 0===M||null===(s=M.values)||void 0===s?void 0:s.knownMedicalCondition)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"medicalCondition",children:["Medical conditions"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{className:"form-control",type:"text",name:"medicalCondition",id:"medicalCondition",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(u=M.values)||void 0===u?void 0:u.medicalCondition,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:B,readOnly:B}),(null===M||void 0===M||null===(j=M.touched)||void 0===j?void 0:j.medicalCondition)&&(null===M||void 0===M?void 0:M.errors.medicalCondition)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.medicalCondition})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"adverseEffect",children:["Adverse Effect"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"adverseEffect",id:"adverseEffect",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(v=M.values)||void 0===v?void 0:v.adverseEffect,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"YES",children:"Yes"}),Object(ue.jsx)("option",{value:"NO",children:"No"})]}),(null===M||void 0===M||null===(b=M.touched)||void 0===b?void 0:b.adverseEffect)&&(null===M||void 0===M?void 0:M.errors.adverseEffect)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.adverseEffect})]})}),"YES"===(null===M||void 0===M||null===(h=M.values)||void 0===h?void 0:h.adverseEffect)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"adverseEffectOption",children:["Reaction Type (Adverse Effect)"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"adverseEffectOption",id:"adverseEffectOption",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(m=M.values)||void 0===m?void 0:m.adverseEffectOption,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),null===R||void 0===R?void 0:R.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.display},null===e||void 0===e?void 0:e.id)))]}),(null===M||void 0===M||null===(p=M.touched)||void 0===p?void 0:p.adverseEffectOption)&&(null===M||void 0===M?void 0:M.errors.adverseEffectOption)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.adverseEffectOption})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccineType",children:["Vaccine ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"vaccineType",id:"vaccineType",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(O=M.values)||void 0===O?void 0:O.vaccineType,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),null===z||void 0===z?void 0:z.map((e=>Object(ue.jsx)("option",{value:null===e||void 0===e?void 0:e.code,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)))]}),(null===M||void 0===M||null===(x=M.touched)||void 0===x?void 0:x.vaccineType)&&(null===M||void 0===M?void 0:M.errors.vaccineType)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.vaccineType})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccinationDate",children:["Date of vaccination",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"date",name:"vaccinationDate",id:"vaccinationDate",max:W(new Date).format("YYYY-MM-DD"),onChange:M.handleChange,onBlur:M.handleBlur,value:null===(f=M.values)||void 0===f?void 0:f.vaccinationDate,disabled:B,readOnly:B}),(null===M||void 0===M||null===(g=M.touched)||void 0===g?void 0:g.vaccinationDate)&&(null===M||void 0===M?void 0:M.errors.vaccinationDate)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.vaccinationDate})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Location ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)(Ue.a,{type:"select",name:"location",id:"location",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(y=M.values)||void 0===y?void 0:y.location,disabled:B,readOnly:B,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),Object(ue.jsx)("option",{value:"Facility",children:"Facility"}),Object(ue.jsx)("option",{value:"Community",children:"Community"})]}),(null===M||void 0===M||null===(N=M.touched)||void 0===N?void 0:N.location)&&(null===M||void 0===M?void 0:M.errors.location)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.location})]})}),"Facility"===(null===M||void 0===M||null===(C=M.values)||void 0===C?void 0:C.location)&&Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"vaccinationFacility",children:["Facility Name",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"text",name:"vaccinationFacility",id:"vaccinationFacility",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(I=M.values)||void 0===I?void 0:I.vaccinationFacility,disabled:B,readOnly:B}),(null===M||void 0===M||null===(T=M.touched)||void 0===T?void 0:T.vaccinationFacility)&&(null===M||void 0===M?void 0:M.errors.vaccinationFacility)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.vaccinationFacility})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"batchNumber",children:["Batch Number ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"text",name:"batchNumber",id:"batchNumber",onChange:M.handleChange,onBlur:M.handleBlur,value:null===(D=M.values)||void 0===D?void 0:D.batchNumber,disabled:B,readOnly:B}),(null===M||void 0===M||null===(S=M.touched)||void 0===S?void 0:S.batchNumber)&&(null===M||void 0===M?void 0:M.errors.batchNumber)&&Object(ue.jsx)("span",{className:w.error,children:null===M||void 0===M?void 0:M.errors.batchNumber})]})})]})})]}),V?Object(ue.jsx)(yt.a,{}):"",Object(ue.jsx)("br",{}),!B&&Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:w.button,startIcon:Object(ue.jsx)(at.a,{}),onClick:_,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:V?Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),!B&&Object(ue.jsx)(oe.a,{variant:"contained",className:w.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>P.push({pathname:"/",state:{patientObj:null===e||void 0===e?void 0:e.patientObj}}),children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})]})};He.b.add(We.a,We.b,We.c,We.d);var Et=e=>{var t,a;const n=(null===e||void 0===e||null===(t=e.activeContent)||void 0===t?void 0:t.actionType)||"create",[o]=Object(i.useState)({page:0,pageSize:20,search:"",id:null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.id}),c={create:Object(ue.jsx)(At,{...e}),update:Object(ue.jsx)(Bt,{...e,disableInputs:!1}),view:Object(ue.jsx)(Bt,{...e,disableInputs:!0})};return Object(G.a)([X,o],(()=>Ee(o))),Object(ue.jsxs)("div",{children:[Object(ue.jsx)(r.a,{autoClose:3e3,hideProgressBar:!0}),Object(ue.jsx)("div",{style:{marginTop:10,marginBottom:20},children:Object(ue.jsx)(ne.b,{to:{pathname:"/",state:"users"},children:Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(ue.jsx)(Te.a,{}),children:Object(ue.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})})}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),(e=>e?c[e]:c.create)(n)]})},Rt=a(409),zt=a.n(Rt),_t=a(945);var Pt=a(938);var Mt=e=>{var t,a,n;const[o]=Object(i.useState)({page:0,pageSize:20,search:"",id:null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.id}),[c,l]=Object(i.useState)(0),{data:r,isLoading:d}=Object(G.a)([X,o],(()=>Ee(o))),s=(t,a)=>{"ROUTINE_IMMUNIZATION"===t.immunizationType?e.setActiveContent({...e.activeContent,route:"routine-immunization-patient",id:t.id,actionType:a}):"TETANUS_IMMUNIZATION"===t.immunizationType?e.setActiveContent({...e.activeContent,route:"tetanus-patient",id:t.id,actionType:a}):e.setActiveContent({...e.activeContent,route:"covid-patient",id:t.id,actionType:a})},{mutate:j}=Fe(e);return Object(ue.jsx)("div",{className:"row",children:Object(ue.jsx)("div",{className:"col-xl-12 col-xxl-12 col-lg-12",children:Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(ue.jsxs)("h4",{className:"card-title",children:[Object(ue.jsx)("b",{children:"Recent Activities"})," "]})}),Object(ue.jsx)("div",{className:"card-body",children:!1===d?Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)(zt.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(ue.jsx)(_t.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(ue.jsx)(ue.Fragment,{children:!d&&(null===r||void 0===r||null===(a=r.content)||void 0===a||null===(n=a.map)||void 0===n?void 0:n.call(a,((e,t)=>{return Object(ue.jsxs)("div",{className:"accordion-item",children:[Object(ue.jsxs)(_t.a.Toggle,{as:u.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===c?"":"collapsed"," accordion-header-info"),onClick:()=>l(1===c?-1:t),children:[Object(ue.jsx)("span",{className:"accordion-header-icon"}),Object(ue.jsxs)("span",{className:"accordion-header-text",children:["Vaccination Date : ",Object(ue.jsx)("span",{className:"",children:e.vaccinationDate})," "]}),Object(ue.jsx)("span",{className:"accordion-header-indicator"})]}),Object(ue.jsx)(_t.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(ue.jsx)("div",{className:"accordion-body-text",children:Object(ue.jsx)("ul",{className:"timeline",children:Object(ue.jsx)("li",{children:Object(ue.jsxs)("div",{className:"timeline-panel",children:[Object(ue.jsx)("div",{className:t%2===0?"media me-2 media-info":"media me-2 media-success",children:(a=e.immunizationType,"ROUTINE_IMMUNIZATION"===a?"RI":"COVID_IMMUNIZATION"===a?"CI":"TETANUS_IMMUNIZATION"===a?"TI":"IM")}),Object(ue.jsxs)("div",{className:"media-body",children:[Object(ue.jsx)("h5",{className:"mb-1",children:e.immunizationType}),Object(ue.jsx)("small",{className:"d-block",children:e.vaccinationDate})]}),Object(ue.jsxs)(Pt.a,{className:"dropdown",children:[Object(ue.jsx)(Pt.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(ue.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(ue.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(ue.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(ue.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(ue.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(ue.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(ue.jsxs)(Pt.a.Menu,{className:"dropdown-menu",children:[Object(ue.jsx)(Pt.a.Item,{className:"dropdown-item",onClick:()=>s(e,"view"),children:"View"}),Object(ue.jsx)(Pt.a.Item,{className:"dropdown-item",onClick:()=>s(e,"update"),children:"Update"}),Object(ue.jsx)(Pt.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:()=>{j(e.id)},children:"Delete"})]})]})]})})})})})]},t);var a})))})})})}):Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsx)("p",{children:"Loading please wait..."})})})]})})})};var Ft=Object(ge.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(l.useHistory)();const[a,n]=Object(i.useState)(!1),[o,c]=Object(i.useState)({route:"patient-vaccination-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:r}=e,d=Object(i.useMemo)((()=>t.location&&t.location.state?t.location.state.patientObj:{}),[t.location]);return Object(ue.jsxs)("div",{className:r.root,children:[Object(ue.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ue.jsx)("ol",{className:"breadcrumb",children:Object(ue.jsx)("li",{className:"breadcrumb-item active",children:Object(ue.jsxs)("h4",{children:[" ",Object(ue.jsx)(ne.b,{to:"/",children:"Immunization /"})," Patient Dashboard"]})})})}),Object(ue.jsx)(ye.a,{children:Object(ue.jsxs)(Ne.a,{children:[Object(ue.jsx)(Ae,{patientObj:d,setArt:n,setActiveContent:c}),Object(ue.jsx)(Be,{patientObj:d,art:a,setActiveContent:c}),Object(ue.jsxs)("div",{children:["vaccination-history"===o.route&&Object(ue.jsx)(qe,{patientObj:d,setActiveContent:c,activeContent:o}),"routine-immunization-patient"===o.route&&Object(ue.jsx)(mt,{patientObj:d,setActiveContent:c,activeContent:o}),"tetanus-patient"===o.route&&Object(ue.jsx)(It,{patientObj:d,setActiveContent:c,activeContent:o}),"covid-patient"===o.route&&Object(ue.jsx)(Et,{patientObj:d,setActiveContent:c,activeContent:o}),"patient-vaccination-history"===o.route&&Object(ue.jsx)(Mt,{patientObj:d,setActiveContent:c,activeContent:o})]})]})})]})})),Vt=a(434),qt=a.n(Vt),Yt=a(636),Lt=a(637),Ut=a.n(Lt),Ht=(a(866),a(940));He.b.add(We.a,We.b,We.c,We.d);const Wt=Object(Ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Zt=e=>{var t,a;const[o,c]=Object(i.useState)({active:!0,streetAddress:"",address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:1,stateId:"",district:"",sexId:"",ninNumber:""}),[d,s]=Object(i.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""});let u=[];const[j,v]=Object(i.useState)([]),[b,h]=Object(i.useState)(!1),[m]=Object(i.useState)(!1),[p,O]=Object(i.useState)(!0),[x,f]=Object(i.useState)(!1),[g,y]=Object(i.useState)(null),[N,C]=Object(i.useState)([]),[I,T]=Object(i.useState)([]),[D,S]=Object(i.useState)([]),[w,A]=Object(i.useState)([]),[k,B]=Object(i.useState)([]),[E,R]=Object(i.useState)([]),[z,_]=Object(i.useState)([]),[P,M]=Object(i.useState)([]),[F,V]=Object(i.useState)({}),[q,Y]=Object(i.useState)([]),[L,U]=Object(i.useState)({person:"",hivEnrollment:""}),H=e.location&&e.location.state?e.location.state.user:null,Z=Wt(),Q=Object(l.useHistory)(),K=Object(l.useLocation)(),[G,J]=Object(i.useState)(!1),[X,$]=Object(i.useState)(!1),[ie,ce]=n.a.useState(!1),le=()=>ce(!ie),re=K.state;let de=null;de=re?re.patientId:null;const je=Object(i.useCallback)((async()=>{if(de){var e,t,a,i,n,o,l,r,d;const u=await ee.a.get("".concat(te,"patient/").concat(de),{headers:{Authorization:"Bearer ".concat(ae)}}),j=await ee.a.get("".concat(te,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(ae)}}),b=u.data;console.log("get patient",null===b||void 0===b||null===(e=b.contact)||void 0===e?void 0:e.contact),v(null===b||void 0===b||null===(t=b.contact)||void 0===t?void 0:t.contact),y(b.facilityId);const h=b.identifier,m=b.address,p=null===b||void 0===b?void 0:b.contactPoint,O=null===h||void 0===h||null===(a=h.identifier)||void 0===a?void 0:a.find((e=>"HospitalNumber"===e.type)),x=qt.a.find(j.data,{display:qt.a.upperFirst(qt.a.lowerCase(b.sex))}).id,f=fe(null===p||void 0===p||null===(i=p.contactPoint)||void 0===i?void 0:i.find((e=>"phone"===e.type))),g=null===p||void 0===p||null===(n=p.contactPoint)||void 0===n?void 0:n.find((e=>"email"===e.type)),N=fe(null===p||void 0===p||null===(o=p.contactPoint)||void 0===o?void 0:o.find((e=>"altphone"===e.type))),C=m&&null!==m&&void 0!==m&&m.address&&(null===m||void 0===m?void 0:m.address.length)>0?m.address[0]:null;C.stateId&&(s=C.stateId,ee.a.get("".concat(te,"organisation-units/parent-organisation-units/").concat(s),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{M(e.data.sort())})).catch((e=>{}))),c({active:!0,streetAddress:C.city,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,hospitalNumber:O.value,firstName:b.firstName,lastName:b.surname,genderId:"",identifier:"",otherName:"",maritalStatusId:null===(l=b.maritalStatus)||void 0===l?void 0:l.id,educationId:null===(r=b.education)||void 0===r?void 0:r.id,employmentStatusId:null===(d=b.employmentStatus)||void 0===d?void 0:d.id,dateOfRegistration:b.dateOfRegistration,isDateOfBirthEstimated:"Actual"!==b.dateOfBirth,age:xe(b.dateOfBirth),phoneNumber:null===f||void 0===f?void 0:f.value,altPhonenumber:null===N||void 0===N?void 0:N.value,dob:b.dateOfBirth,countryId:1,stateId:C.stateId,district:parseInt(C.district),landmark:C.line[0],sexId:x,ninNumber:"",email:null===g||void 0===g?void 0:g.value})}var s}),[de]);Object(i.useEffect)((()=>{ve(),be(),he(),me(),pe(),Oe(),ge(),ye(),je(),o.dateOfRegistration<o.dob&&r.b.error("Date of registration can not be earlier than date of birth")}),[je]);const ve=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(ae)}});C(e.data.sort())}catch(e){}}),[]),be=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(ae)}});T(e.data.sort())}catch(e){}}),[]),he=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(ae)}});S(e.data.sort())}catch(e){}}),[]),me=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(ae)}});A(e.data.sort())}catch(e){}}),[]),pe=Object(i.useCallback)((async()=>{try{const e=await ee.a.get("".concat(te,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(ae)}});B(e.data.sort())}catch(e){}}),[]),Oe=Object(i.useCallback)((async()=>{const e=await ee.a.get("".concat(te,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(ae)}});Y(e.data.sort())}),[]),xe=e=>{const t=new Date,a=(e.split("-"),new Date(e));return t.getFullYear()-a.getFullYear()},fe=e=>{var t;return void 0!==e&&null!==typeof(null===e||void 0===e?void 0:e.value)&&"undefined"!==typeof(null===e||void 0===e?void 0:e.value)&&"0"===(null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.charAt(0))&&(e.value=e.value.replace("0","234")),e},ge=()=>{ee.a.get("".concat(te,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{R(e.data)})).catch((e=>{}))};function ye(){ee.a.get("".concat(te,"organisation-units/parent-organisation-units/1"),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{_(e.data.sort())})).catch((e=>{}))}const Ne=e=>{"Actual"===e.target.value?O(!0):"Estimated"===e.target.value&&O(!1)},Ce=e=>{if(c({...o,[e.target.name]:e.target.value}),"firstName"===e.target.name&&""!==e.target.value){const t=Se(e.target.value);c({...o,[e.target.name]:t})}if("lastName"===e.target.name&&""!==e.target.value){const a=Se(e.target.value);c({...o,[e.target.name]:a})}if("middleName"===e.target.name&&""!==e.target.value){const i=Se(e.target.value);c({...o,[e.target.name]:i})}if("ninNumber"===e.target.name&&""!==e.target.value){const n=we(e.target.value.replace(/\D/g,""));c({...o,[e.target.name]:n})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function l(){const t=e.target.value;!0!==(await ee.a.post("".concat(te,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(ae),"Content-Type":"text/plain"}})).data?(J(!1),F.hospitalNumber="",$(!0)):(F.hospitalNumber="",r.b.error("Error! Hosiptal Number already exist"),J(!0),$(!1))}l()}},Ie=e=>{const t=k.find((t=>t.id===e));return t?t.display:""},De=e=>{s({...d,[e.target.name]:e.target.value})},Se=e=>e.replace(/[^a-z]/gi,""),we=e=>e.slice(0,11),Ae=(e,t)=>{const a=we(e.target.value.replace(/\D/g,""));c({...o,[t]:a})};return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(r.a,{autoClose:3e3,hideProgressBar:!0}),Object(ue.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ue.jsx)("ol",{className:"breadcrumb",children:Object(ue.jsx)("li",{className:"breadcrumb-item active",children:Object(ue.jsxs)("h4",{children:[" ",Object(ue.jsx)(ne.b,{to:"/",children:"Patient /"})," Patient Registration"]})})})}),Object(ue.jsx)(ne.b,{to:{pathname:"/",state:"users"},children:Object(ue.jsx)(oe.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(ue.jsx)(Te.a,{}),children:Object(ue.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)(Qe.a,{className:Z.root,children:Object(ue.jsx)(Ke.a,{children:Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)(Ye.a,{children:[Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===H?"Basic Information":"Edit User Information"})}),Object(ue.jsx)("div",{className:"card-body",children:Object(ue.jsxs)("div",{className:"basic-form",children:[Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"dateOfRegistration",children:["Date of Registration"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ue.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:W(new Date).format("YYYY-MM-DD"),value:o.dateOfRegistration,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==F.dateOfRegistration?Object(ue.jsx)("span",{className:Z.error,children:F.dateOfRegistration}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"patientId",children:["Hospital Number"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:o.hospitalNumber,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==F.hospitalNumber?Object(ue.jsx)("span",{className:Z.error,children:F.hospitalNumber}):"",!0===G?Object(ue.jsx)("span",{className:Z.error,children:"Hospital number already exist"}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"ninNumber",children:["National Identity Number (NIN)"," "]}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"ninNumber",value:o.ninNumber,id:"ninNumber",onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"firstName",children:["First Names ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:o.firstName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==F.firstName?Object(ue.jsx)("span",{className:Z.error,children:F.firstName}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Middle Name"}),Object(ue.jsx)(Ue.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:o.middleName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Last Name ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:o.lastName,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==F.lastName?Object(ue.jsx)("span",{className:Z.error,children:F.lastName}):""]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Sex ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ce,value:o.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ue.jsx)("option",{value:"",children:"Select"}),N.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==F.sexId?Object(ue.jsx)("span",{className:Z.error,children:F.sexId}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Date Of Birth"}),Object(ue.jsx)("div",{className:"radio",children:Object(ue.jsxs)("label",{children:[Object(ue.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Ne(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(ue.jsx)("div",{className:"radio",children:Object(ue.jsxs)("label",{children:[Object(ue.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Ne(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Date "}),Object(ue.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:o.dateOfRegistration,value:o.dob,onChange:e=>{if(e.target.value){const t=new Date,a=new Date(e.target.value);let i=t.getFullYear()-a.getFullYear();o.age=i}else c({...o,age:""});c({...o,dob:e.target.value}),""!==o.age&&o.age>=60&&le()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ue.jsxs)("div",{className:"form-group mb-3 col-md-3",children:[Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Age"}),Object(ue.jsx)("input",{type:"text",name:"age",className:"form-control",id:"age",min:"1",value:o.age,disabled:p,onChange:e=>{const t=e.target.value.replace(/\D/g,"");if(!p&&t){const e=new Date;e.setDate(15),e.setMonth(5);const a=W(e.toISOString()).add(-1*t,"years");o.dob=W(a).format("YYYY-MM-DD"),""!==t&&t>=60&&le()}c({...o,age:t})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}),""!==o.age&&o.age>=80?Object(ue.jsx)("span",{className:Z.error,children:"Are you sure of the age"}):""]})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Marital Status"}),Object(ue.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ce,value:o.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ue.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Employment Status"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ce,value:o.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ue.jsx)("option",{value:"",children:"Select"}),w.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==F.employmentStatusId?Object(ue.jsx)("span",{className:Z.error,children:F.employmentStatusId}):""]})}),Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Education Level"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ce,value:o.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ue.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==F.educationId?Object(ue.jsx)("span",{className:Z.error,children:F.educationId}):""]})})]})]})})]}),Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(ue.jsxs)("div",{className:"card-body",children:[Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Phone Number ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)(Ue.a,{type:"text",name:"phoneNumber",id:"phoneNumber",onChange:e=>{Ae(e,"phoneNumber")},value:o.phoneNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0}),""!==F.phoneNumber?Object(ue.jsx)("span",{className:Z.error,children:F.phoneNumber}):""]})}),Object(ue.jsx)("div",{className:"form-group col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Alt. Phone Number"}),Object(ue.jsx)(Ue.a,{type:"text",name:"altPhonenumber",id:"altPhonenumber",onChange:e=>{Ae(e,"altPhonenumber")},value:o.altPhonenumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})}),Object(ue.jsx)("div",{className:"form-group col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Email"}),Object(ue.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ce,value:o.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Country ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:o.countryId,onChange:e=>{const t=e.target.value;ye(),c({...o,countryId:t})},disabled:!0,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==F.countryId?Object(ue.jsx)("span",{className:Z.error,children:F.countryId}):""]})}),Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["State ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:o.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const t=e.target.value;c({...o,stateId:e.target.value}),ee.a.get("".concat(te,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(ae)}}).then((e=>{M(e.data.sort())})).catch((e=>{}))},children:[Object(ue.jsx)("option",{value:"",children:"Select"}),z.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==F.stateId?Object(ue.jsx)("span",{className:Z.error,children:F.stateId}):""]})}),Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Province/District/LGA"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:o.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ce,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),P.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==F.district?Object(ue.jsx)("span",{className:Z.error,children:F.district}):""]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{children:["Street Address"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"streetAddress",id:"streetAddress",value:o.streetAddress,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==F.streetAddress?Object(ue.jsx)("span",{className:Z.error,children:F.streetAddress}):""]})}),Object(ue.jsx)("div",{className:"form-group  col-md-4",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Landmark"}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:o.landmark,onChange:Ce,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(ue.jsxs)("div",{className:"card",children:[Object(ue.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ue.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(ue.jsxs)("div",{className:"card-body",children:[Object(ue.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ue.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(ue.jsx)("thead",{className:"mb-3",children:Object(ue.jsxs)("tr",{children:[Object(ue.jsx)("th",{children:"Relationship Type"}),Object(ue.jsx)("th",{children:"Name"}),Object(ue.jsx)("th",{children:"Phone"}),Object(ue.jsx)("th",{children:"Address"}),Object(ue.jsx)("th",{children:"Actions"})]})}),Object(ue.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>{var a;return Object(ue.jsxs)("tr",{className:"mb-3",children:[Object(ue.jsx)("td",{children:Ie(e.relationshipId)}),Object(ue.jsx)("td",{children:(null===e||void 0===e?void 0:e.firstName)+" "+(null===e||void 0===e?void 0:e.otherName)+" "+(null===e||void 0===e?void 0:e.surname)}),Object(ue.jsx)("td",{children:e.contactPoint.value}),Object(ue.jsx)("td",{children:null===(a=e.address)||void 0===a?void 0:a.line[0]}),Object(ue.jsxs)("td",{children:["\xa0\xa0",Object(ue.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),v([...j])})(t),children:Object(ue.jsx)(Yt.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(ue.jsx)("div",{className:"col-xl-12 col-lg-12",children:x&&Object(ue.jsx)("div",{className:"card",children:Object(ue.jsxs)("div",{className:"card-body",children:[Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"relationshipType",children:["Relationship Type"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:d.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De,children:[Object(ue.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(ue.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==F.relationshipId?Object(ue.jsx)("span",{className:Z.error,children:F.relationshipId}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsxs)(Le.a,{for:"cfirstName",children:["First Name"," ",Object(ue.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:d.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De}),""!==F.firstName?Object(ue.jsx)("span",{className:Z.error,children:F.firstName}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Middle Name"}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:d.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{children:"Last Name "}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:d.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De})]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(ue.jsx)(Ue.a,{type:"text",name:"phone",id:"phone",onChange:e=>{((e,t)=>{const a=we(e.target.value.replace(/\D/g,""));s({...d,[t]:a})})(e,"phone")},value:null===(t=d.phone)||void 0===t?void 0:t.value,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0}),""!==F.phone?Object(ue.jsx)("span",{className:Z.error,children:F.phone}):""]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{for:"contactEmail",children:"Email"}),Object(ue.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:d.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De,required:!0})]})}),Object(ue.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ue.jsxs)(Ot.a,{children:[Object(ue.jsx)(Le.a,{for:"contactAddress",children:"Address"}),Object(ue.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:null===(a=d.address)||void 0===a?void 0:a.city,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:De})]})})]}),Object(ue.jsxs)("div",{className:"row",children:[Object(ue.jsx)("div",{className:"col-1",children:Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:Z.button,onClick:()=>{if((()=>{let e={...F};return e.firstName=d.firstName?"":"First Name is required",e.relationshipId=d.relationshipId?"":"Relationship Type is required.",V({...e}),Object.values(e).every((e=>""===e))})()){const e={address:{line:[d.address]},contactPoint:{type:"phone",value:d.phone},firstName:d.firstName,fullName:d.firstName+" "+d.middleName+" "+d.lastName,relationshipId:d.relationshipId,surname:d.lastName,otherName:d.middleName};void 0===j?(u.push(e),v(u)):v([...j,e]),s({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""})}},children:"Add"})}),Object(ue.jsx)("div",{className:"col-1",children:Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"secondary",className:Z.button,onClick:()=>{f(!1)},children:"Cancel"})})]})]})})})]}),Object(ue.jsx)("div",{className:"row"}),Object(ue.jsx)(oe.a,{type:"button",variant:"contained",color:"primary",className:Z.button,startIcon:Object(ue.jsx)(Ut.a,{}),onClick:()=>{f(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),b?Object(ue.jsx)(yt.a,{}):"",Object(ue.jsx)("br",{}),Object(ue.jsx)(oe.a,{type:"submit",variant:"contained",color:"primary",className:Z.button,startIcon:Object(ue.jsx)(at.a,{}),onClick:async e=>{if(e.preventDefault(),(()=>{let e={...F};return e.firstName=o.firstName?"":"First Name is required",e.hospitalNumber=o.hospitalNumber?"":"Hospital Number  is required.",e.lastName=o.lastName?"":"Last Name  is required.",e.sexId=o.sexId?"":"Gender is required.",e.dateOfRegistration=o.dateOfRegistration?"":"Date of Registration is required.",e.educationId=o.educationId?"":"Education is required.",e.streetAddress=o.streetAddress?"":"Address is required.",e.countryId=o.countryId?"":"Country is required.",e.stateId=o.stateId?"":"State is required.",e.district=o.district?"":"Province/LGA is required.",e.employmentStatusId=o.employmentStatusId?"":"Employee Status  is required.",V({...e}),Object.values(e).every((e=>""===e))})()){h(!0);try{const e={active:!0,address:[{city:o.streetAddress,countryId:o.countryId,district:o.district,line:[o.landmark],organisationUnitId:0,postalCode:"",stateId:o.stateId}],contact:j,contactPoint:[],dateOfBirth:o.dob,deceased:!1,deceasedDateTime:null,firstName:o.firstName,genderId:o.sexId,sexId:o.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:o.hospitalNumber}],otherName:o.middleName,maritalStatusId:o.maritalStatusId,surname:o.lastName,educationId:o.educationId,employmentStatusId:o.employmentStatusId,dateOfRegistration:o.dateOfRegistration,isDateOfBirthEstimated:"Actual"!==o.dateOfBirth,ninNumber:o.ninNumber},t={type:"phone",value:o.phoneNumber};if(o.email){const t={type:"email",value:o.email};e.contactPoint.push(t)}if(o.altPhonenumber){const t={type:"altphone",value:o.altPhonenumber};e.contactPoint.push(t)}if(e.contactPoint.push(t),e.id=de,L.person=e,de){e.id=null,e.facilityId=g;const t=await ee.a.put("".concat(te,"patient/").concat(de),e,{headers:{Authorization:"Bearer ".concat(ae)}});await se.refetchQueries(),r.b.success("Patient Updated successfully"),h(!1),Q.push("/patient-vaccination-history",{patientObj:t.data})}else{const t=await ee.a.post("".concat(te,"patient"),e,{headers:{Authorization:"Bearer ".concat(ae)}});await se.refetchQueries(),r.b.success("Patient Register successfully"),h(!1),Q.push("/patient-vaccination-history",{patientObj:t.data})}}catch(t){if(h(!1),t.response&&t.response.data){let e=t.response.data.apierror&&""!==t.response.data.apierror.message?t.response.data.apierror.message:"Something went wrong, please try again";t.response.data.apierror&&""!==t.response.data.apierror.message&&t.response.data.apierror&&""!==t.response.data.apierror.subErrors[0].message?r.b.error(t.response.data.apierror.message+" : "+t.response.data.apierror.subErrors[0].field+" "+t.response.data.apierror.subErrors[0].message,{position:r.b.POSITION.BOTTOM_CENTER}):r.b.error(e,{position:r.b.POSITION.BOTTOM_CENTER})}else r.b.error("Something went wrong. Please try again...",{position:r.b.POSITION.BOTTOM_CENTER})}}},hidden:m,disabled:b,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ue.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ue.jsx)(oe.a,{variant:"contained",className:Z.button,startIcon:Object(ue.jsx)(nt.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{Q.push({pathname:"/"})},children:Object(ue.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(ue.jsxs)(Ht.a,{show:ie,toggle:le,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ue.jsx)(Ht.a.Header,{children:Object(ue.jsx)(Ht.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ue.jsx)(Ht.a.Body,{children:Object(ue.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(ue.jsx)(Ht.a.Footer,{children:Object(ue.jsx)(oe.a,{onClick:le,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})},Qt=a(379),Kt=a(638);function Gt(){return Object(ue.jsx)(l.MemoryRouter,{children:Object(ue.jsxs)(Qt.a,{client:se,children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)(r.a,{autoClose:3e3,hideProgressBar:!0,position:"bottom-center"}),Object(ue.jsxs)(l.Switch,{children:[Object(ue.jsx)(l.Route,{path:"/tetanus-patient",children:Object(ue.jsx)(It,{})}),Object(ue.jsx)(l.Route,{path:"/routine-immunization-patient",children:Object(ue.jsx)(mt,{})}),Object(ue.jsx)(l.Route,{path:"/patient-vaccination-history",children:Object(ue.jsx)(Ft,{})}),Object(ue.jsx)(l.Route,{path:"/register-patient",children:Object(ue.jsx)(Zt,{})}),Object(ue.jsx)(l.Route,{path:"/",children:Object(ue.jsx)(fe,{})})]})]}),Object(ue.jsx)(Kt.ReactQueryDevtools,{initialIsOpen:!1})]})})}var Jt=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1064)).then((t=>{let{getCLS:a,getFID:i,getFCP:n,getLCP:o,getTTFB:c}=t;a(e),i(e),n(e),o(e),c(e)}))},Xt=a(639);let $t="ltr";const ea=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:$t},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:$t},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:$t},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:$t},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:$t},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:$t}],ta=Object(i.createContext)();var aa=e=>{const[t,a]=Object(i.useState)({value:"full",label:"Full"}),[n,o]=Object(i.useState)({value:"fixed",label:"Fixed"}),[c,l]=Object(i.useState)({value:"fixed",label:"Fixed"}),[r,d]=Object(i.useState)({value:"vertical",label:"Vertical"}),[s,u]=Object(i.useState)({value:"ltr",label:"LTR"}),[j,v]=Object(i.useState)("color_1"),[b,h]=Object(i.useState)("color_1"),[m,p]=Object(i.useState)("color_1"),[O,x]=Object(i.useState)("color_1"),[f,g]=Object(i.useState)(!1),[y,N]=Object(i.useState)(!1),[C,I]=Object(i.useState)({value:"light",label:"Light"}),[T,D]=Object(i.useState)({value:"wide-boxed",label:"Wide Boxed"}),S=document.querySelector("body"),[w,A]=Object(i.useState)(0),[k,B]=Object(i.useState)(0),E=e=>{v(e),S.setAttribute("data-primary",e)},R=e=>{h(e),S.setAttribute("data-nav-headerbg",e)},z=e=>{p(e),S.setAttribute("data-headerbg",e)},_=e=>{x(e),S.setAttribute("data-sibebarbg",e)},P=e=>{o(e),S.setAttribute("data-sidebar-position",e.value)},M=e=>{u(e),S.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},F=e=>{"horizontal"===e.value&&"overlay"===t.value?(d(e),S.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),S.setAttribute("data-sidebar-style","full")):(d(e),S.setAttribute("data-layout",e.value))},V=e=>{"horizontal"===r.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),g("icon-hover"===e.value?"_i-hover":""),S.setAttribute("data-sidebar-style",e.value))},q=e=>{l(e),S.setAttribute("data-header-position",e.value)},Y=e=>{S.setAttribute("data-theme-version",e.value),I(e)},L=e=>{D(e),S.setAttribute("data-container",e.value),"boxed"===e.value&&V({value:"overlay",label:"Overlay"})};return Object(i.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{A(window.innerWidth),B(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(ue.jsx)(ta.Provider,{value:{body:S,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:n,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:j,navigationHader:b,windowWidth:w,windowHeight:k,changePrimaryColor:E,changeNavigationHader:R,changeSideBarStyle:V,sideBarStyle:t,changeSideBarPostion:P,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:q,headerposition:c,changeSideBarLayout:F,sidebarLayout:r,changeDirectionLayout:M,changeContainerPosition:L,direction:s,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:m,chnageHaderColor:z,chnageSidebarColor:_,sidebarColor:O,iconHover:f,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:Y,background:C,containerPosition_:T,setDemoTheme:(e,t)=>{var a={},i=ea[e];S.setAttribute("data-typography",i.typography),a.value=i.version,Y(a),a.value=i.layout,F(a),E(i.primary),R(i.navheaderBg),z(i.headerBg),a.value=i.sidebarStyle,V(a),_(i.sidebarBg),a.value=i.sidebarPosition,P(a),a.value=i.headerPosition,q(a),a.value=i.containerLayout,L(a),a.value=t,M(a)}},children:e.children})};c.a.render(Object(ue.jsx)(n.a.StrictMode,{children:Object(ue.jsx)(Xt.a,{children:Object(ue.jsx)(ne.a,{basename:"/",children:Object(ue.jsx)(aa,{children:Object(ue.jsx)(Gt,{})})})})}),document.getElementById("root")),Jt()}},[[867,1,2]]]);
//# sourceMappingURL=main.abb605e9.chunk.js.map